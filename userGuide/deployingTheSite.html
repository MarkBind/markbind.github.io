<!DOCTYPE html>
<html>
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MarkBind - User Guide - Deploying the Site</title>
    <link rel="stylesheet" href="../markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="../markbind/css/bootstrap-vue.min.css">
    <link rel="stylesheet" href="../markbind/css/font-awesome.min.css" >
    <link rel="stylesheet" href="../markbind/css/bootstrap-glyphicons.min.css" >
    <link rel="stylesheet" href="../markbind/css/github.min.css">
    <link rel="stylesheet" href="../markbind/css/markbind.css">
    <link rel="stylesheet" href="../markbind/layouts/default/styles.css">
    <link rel="stylesheet" href="../markbind/css/site-nav.css">
    
    
    <link rel="icon" href="/favicon.ico">
</head>
<body>
<div id="app">
    <div id="flex-body">
  <div id="site-nav">
    <p><span class="indented lead"><strong>User Guide</strong></span></p>
    <ul style="list-style-type: none; margin-left:-1em">
      <li style="margin-top: 10px"><a href="/userGuide/gettingStarted.html" class="site-nav__a">Getting Started</a></li>
      <li style="margin-top:10px"><a href="/userGuide/authoringContents.html" class="site-nav__a">Authoring Contents</a>
        <ul style="list-style-type: none; margin-left:-1em">
          <li style="margin-top: 10px"><a href="/userGuide/addingPages.html" class="site-nav__a">Adding Pages</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/markBindSyntaxOverview.html" class="site-nav__a">MarkBind Syntax Overview</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/formattingContents.html" class="site-nav__a">Formatting Contents</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/usingComponents.html" class="site-nav__a">Using Components</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/usingHtmlJavaScriptCss.html" class="site-nav__a">Using HTML, JavaScript, CSS</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/usingPlugins.html" class="site-nav__a">Using Plugins</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/tweakingThePageStructure.html" class="site-nav__a">Tweaking the Page Structure</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/reusingContents.html" class="site-nav__a">Reusing Contents</a></li>
          <li style="margin-top: 10px"><a href="/userGuide/makingTheSiteSearchable.html" class="site-nav__a">Making the Site Searchable</a></li>
        </ul>
      </li>
      <li style="margin-top: 10px"><a href="/userGuide/deployingTheSite.html" class="site-nav__a current">Deploying the Site</a></li>
      <li style="margin-top: 10px"><a href="/userGuide/markBindInTheProjectWorkflow.html" class="site-nav__a">MarkBind in the Project Workflow</a></li>
      <li style="margin-top: 10px"><button class="dropdown-btn dropdown-btn-open">References 
 <i class="dropdown-btn-icon rotate-icon">
<span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></button>
        <div class="dropdown-container dropdown-container-open">
          <ul style="list-style-type: none; margin-left:-1em">
            <li style="margin-top: 10px"><a href="/userGuide/cliCommands.html" class="site-nav__a">CLI Commands</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/readerFacingFeatures.html" class="site-nav__a">Reader-Facing Features</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/fullSyntaxReference.html" class="site-nav__a">Full Syntax Reference</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/syntaxCheatSheet.html" class="site-nav__a">Syntax Cheat Sheet</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/siteConfiguration.html" class="site-nav__a">Site Configuration</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/tipsAndTricks.html" class="site-nav__a">Tips & Tricks</a></li>
            <li style="margin-top: 10px"><a href="/userGuide/glossary.html" class="site-nav__a">Glossary</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
  <div id="site-nav-btn-wrap">
    <div id="site-nav-btn">
      <div class="menu-top-bar"></div>
      <div class="menu-middle-bar"></div>
      <div class="menu-bottom-bar"></div>
    </div>
  </div>
  <div id="page-content">
    <div id="content-wrapper">
      <div>
        <link rel="stylesheet" href="/css/main.css">
        <navbar placement="top" type="inverse" class="temp-navbar">
          <a slot="brand" href="/index.html" title="Home" class="navbar-brand"><img src="/images/logo-darkbackground.png" height="20"></a>
          <li><a href="/index.html" class="nav-link">HOME</a></li>
          <li><a href="/userGuide/index.html" class="nav-link">DOCS</a></li>
          <li><a href="/showcase.html" class="nav-link">SHOWCASE</a></li>
          <li><a href="/about.html" class="nav-link">ABOUT</a></li>
          <li>
            <a href="https://github.com/MarkBind/markbind" target="_blank" class="nav-link">
      <svg height="16px" fill="#777" class="octicon octicon-mark-github" viewbox="0 0 16 16" version="1.1" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a></li>
          <li slot="right">
            <form class="navbar-form">
              <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right=""></searchbar>
            </form>
          </li>
        </navbar>
      </div>
      <div class="website-content">
        <h1 id="deploying-the-site">Deploying the Site<a class="fa fa-anchor" href="#deploying-the-site"></a></h1>
        <span class="lead">
<p><strong>A site generated by MarkBind can be deployed by simply uploading the generated files to any Web server.</strong> In addition, MarkBind provides several convenient deployment options.
</p></span>
        <p>Generic steps for deploying a MarkBind site:</p>
        <ol>
          <li>Set the <a href="/userGuide/siteConfiguration.html#baseUrl"><code>baseUrl</code> property of the <code>site.json</code> file</a> to match the deploy location.</li>
          <li>(Optional) Use the <a href="/userGuide/cliCommands.html#serve-command"><code>markbind serve</code> command</a> to stage the site locally and confirm the contents are as expected.</li>
          <li>Use the <a href="/userGuide/cliCommands.html#build-command"><code>markbind build</code> command</a> to generate the site from source files. That command puts the generated site files in a directory named <code>_site</code> (you can
            change the output directory using parameters supplied to the command).</li>
          <li>Upload the site files to the Web server. The sections below explains how to automate this step for when deploying to some online platforms.</li>
        </ol>
        <h2 id="deploying-to-github-pages">Deploying to Github Pages<a class="fa fa-anchor" href="#deploying-to-github-pages"></a></h2>
        <p><strong>MarkBind can easily deploy a site to <a href="https://help.github.com/categories/github-pages-basics/">Github pages</a></strong> if the project root directory is also a GitHub repo.</p>
        <p>Running the <strong><code>markbind deploy</code></strong> command will deploy the most recent build of your site to the <code>gh-pages</code> branch of the repo <code>origin</code> and will be available After the command is completed, your site
          will be online at <code>http://&lt;username|org&gt;.github.io/&lt;repo&gt;</code> e.g., <a href="http://se-edu.github.io/se-book">http://se-edu.github.io/se-book</a>.</p>
        <div id="warning-about-baseUrl">
          <box type="warning">
            <p>If you are deploying to the site to GitHub pages, the <code>baseUrl</code> setting in the <code>site.json</code> should be set to the <code>&quot;/&lt;repositoryName&gt;&quot;</code> for the links in the deployed site to work correctly.<br>
              <big><span class="badge badge-pill badge-light" style="background-color: #d9d9d9; color: #737373; position:relative; left:-10px">Example:</span></big> If you are using Github Pages to host your deployed website at repo <code>myorg/myproduct</code>              (i.e., the website is published at <code>https://myorg.github.io/myproduct</code>), then your <code>baseUrl</code> should be <code>&quot;/myproduct&quot;</code>.
            </p>
          </box>
        </div>
        <p>You can override the default deployment settings <span class="dimmed">(e.g., repo/branch to deploy)</span> in the <code>site.json</code>'s <code>deploy</code> section:</p>
        <panel type="seamless" header="**User Guide: Configuring the Site â†’ `deploy`**" popup-url="/userGuide/siteConfiguration.html#deploy">
          <div>
            <h4 id="deploy"><strong><code>deploy</code></strong><a class="fa fa-anchor" href="#deploy"></a></h4>
            <p><strong>The settings for <a href="/userGuide/deployingTheSite.html">auto-deployment to Github pages</a>.</strong></p>
            <ul>
              <li>
                <p><strong><code>message</code></strong> [Optional. Default: <code>&quot;Site Update.&quot;</code>]<br> The commit message used for the deployment commit.</p>
              </li>
              <li>
                <p><strong><code>repo</code></strong> [Optional. Default: the current working project's repo]<br> The repo you want to deploy to.<br> Format: <code>&quot;https://github.com/&lt;org|username&gt;/&lt;repo&gt;.git&quot;</code> (<code>&quot;git@github.com:&lt;org|username&gt;/&lt;repo&gt;.git&quot;</code>                  if you use SSH)<br>
                  <big><span class="badge badge-pill badge-light" style="background-color: #d9d9d9; color: #737373; position:relative; left:-10px">Example:</span></big> <code>&quot;https://github.com/myorg/myrepo.git&quot;</code></p>
              </li>
              <li>
                <p><strong><code>branch</code></strong> [Optional. Default: <code>&quot;gh-pages&quot;</code>]<br> The branch that will be deployed to in the remote repo.</p>
              </li>
            </ul>
          </div>
        </panel>
        <br>
        <box type="warning">
          <p><code>markbind deploy</code> does not generate the static site from your source; it simply deploys the files that are already in the <code>_site</code> directory. You need to run <code>markbind build</code> first if you want to generate the
            site before deploying.
          </p>
        </box>
        <h3 id="deploying-to-github-pages-via-travis-ci">Deploying to GitHub Pages via Travis CI<a class="fa fa-anchor" href="#deploying-to-github-pages-via-travis-ci"></a></h3>
        <p><strong>You can setup <a href="https://www.travis-ci.org/"><tooltip content="a platform for Continuous Integration and Delivery (among other things)">Travis CI</tooltip></a> to automatically build and deploy your site on GitHub Pages every time your GitHub repo is updated.</strong></p>
        <p>Here are the steps to set up Travis CI:</p>
        <ol>
          <li><a href="https://travis-ci.com/signin">Sign up with GitHub</a> at <a href="https://travis-ci.com">Travis CI</a>.</li>
          <li>Accept the authorisation for Travis CI when you are redirected to GitHub.</li>
          <li>Click the green <em>Activate</em> button, and select the repository with the MarkBind site.</li>
          <li><a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/#creating-a-token">Generate a GitHub personal access token</a> with <strong>repo</strong> permissions. Take note of the generated token - you will
            not be able to see it again once you navigate away from the page.</li>
          <li><a href="https://docs.travis-ci.com/user/environment-variables/#defining-variables-in-repository-settings">Add an environment variable in Travis CI</a> named <code>GITHUB_TOKEN</code>, with the value set to the personal access token generated
            in the previous step. <mark>Ensure that <em>Display value in the build log</em> is set to <em>Off</em>.</mark>
            <box background-color="white" border-color="white"><span>
<a href="/images/travisGithubToken.png" target="_self"><img src="/images/travisGithubToken.png" alt="" class="img-fluid"></a></span></box>
          </li>
          <li>Add a <code>.travis.yml</code> file to instruct Travis CI to build and deploy the site when you push to the repository. An example <code>.travis.yml</code> file that can accomplish this is given below:
            <box background-color="white" border-color="white">
              <pre><code class="hljs yaml"><span class="hljs-attr">language:</span> <span class="hljs-string">node_js</span>
<span class="hljs-attr">node_js:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">'8'</span>
<span class="hljs-attr">install:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">npm</span> <span class="hljs-string">i</span> <span class="hljs-bullet">-g</span> <span class="hljs-string">markbind-cli</span>
<span class="hljs-attr">script:</span> <span class="hljs-string">markbind</span> <span class="hljs-string">build</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">markbind</span> <span class="hljs-string">deploy</span> <span class="hljs-bullet">--travis</span>
<span class="hljs-attr">branches:</span>
<span class="hljs-attr">  only:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">master</span>
</code></pre> More information about <code>.travis.yml</code> can be found in the <a href="https://docs.travis-ci.com/">Travis CI documentation</a>.
            </box>
          </li>
          <li>Commit <code>.travis.yml</code> to your MarkBind repository and push the changes. Travis CI should begin to build your site.</li>
          <li>Select the MarkBind repository on <a href="https://travis-ci.com/auth">Travis CI</a> and <a href="https://docs.travis-ci.com/user/job-lifecycle/#breaking-the-build">check the build status</a> to see if it is successful.</li>
          <li>Once the build succeeds, your MarkBind site should be online at <code>http://&lt;username|org&gt;.github.io/&lt;repo&gt;</code> e.g., <a href="http://se-edu.github.io/se-book">http://se-edu.github.io/se-book</a>. Travis CI will automatically
            build and deploy changes to your site as you push new changes to the repository.</li>
        </ol>
        <p><span aria-hidden="true" class="fas fa-info-circle"></span> Note that when Travis CI is set up as explained above, it will use the latest version of MarkBind which may be a later version than the one you use locally. If you want Travis CI to use
          a specific version of MarkBind (eg. <code>v1.6.3</code>), change the <code>install</code> step in the <code>.travis.yml</code> given above to:</p>
        <pre><code class="hljs yaml"><span class="hljs-attr">install:</span>
<span class="hljs-bullet">  -</span> <span class="hljs-string">npm</span> <span class="hljs-string">i</span> <span class="hljs-bullet">-g</span> <span class="hljs-string">markbind-cli@1.63</span>
</code></pre>
        <hr>
        <h2 id="deploying-to-netlify">Deploying to Netlify<a class="fa fa-anchor" href="#deploying-to-netlify"></a></h2>
        <p><strong>You can setup <a href="https://www.netlify.com/"><tooltip content="a platform for deploying static webpages (among other things)">Netlify</tooltip></a>
to automatically build and deploy your site on their platform every time your GitHub repo is updated.</strong></p>
        <p>Here are the steps to set up Netlify:</p>
        <ol>
          <li>Go to <a href="https://app.netlify.com/">https://app.netlify.com/</a> and sign up</li>
          <li>Next go to <a href="https://app.netlify.com/account/sites">https://app.netlify.com/account/sites</a> and select <code>New site from Git</code></li>
          <li>Select your git provider
            <box background-color="white" border-color="#cccccc"><span><a href="/images/netlifyPreview1.png" target="_self"><img src="/images/netlifyPreview1.png" alt="" class="img-fluid"></a></span></box>
          </li>
          <li>Select your markbind site repository
            <box background-color="white" border-color="#cccccc"><span><a href="/images/netlifyPreview2.png" target="_self"><img src="/images/netlifyPreview2.png" alt="" class="img-fluid"></a></span></box>
          </li>
          <li>Update the build settings as follows and hit <code>Deploy site</code>:
            <ul>
              <li><code>Build Command</code>: <code>npm i markbind-cli -g &amp;&amp; markbind build --baseUrl</code></li>
              <li><code>Publish directory</code>: <code>_site</code>
                <box background-color="white" border-color="#cccccc"><span><a href="/images/netlifyPreview3.png" target="_self"><img src="/images/netlifyPreview3.png" alt="" class="img-fluid"></a></span></box>
              </li>
            </ul>
          </li>
        </ol>
        <p>Now your site will be deployed on Netlify at the given address specified after deployment. It will be updated automatically when the default branch of your repo is updated.</p>
        <p>Additionally, <strong>when contributors make a pull request to your GitHub repo, you can <em>preview</em> the updated site</strong> at the bottom of the pull request by clicking on <code>details</code> link in the PR:
          <box background-color="white" border-color="#cccccc"><span><a href="/images/netlifyPreview4.png" target="_self"><img src="/images/netlifyPreview4.png" alt="" class="img-fluid"></a></span></box>
        </p>
        <p><span aria-hidden="true" class="fas fa-info-circle"></span> Note that when Netlify is set up as explained above, it will use the latest version of MarkBind which may be a later version than the one you use locally. If you want Netlify to use a
          specific version of Netlify, follow the instructions in the box below:</p>
        <box background-color="white" border-color="#cccccc">
          <h5 id="setting-up-netlify-to-use-a-specific-version-of-markbind">Setting up Netlify to use a specific version of MarkBind<a class="fa fa-anchor" href="#setting-up-netlify-to-use-a-specific-version-of-markbind"></a></h5>
          <p>Here are the steps to set up Netlify to use a specific version of MarkBind.</p>
          <ol>
            <li>
              <p>Navigate to the root directory of your site.</p>
            </li>
            <li>
              <p>run <code>npm init</code> which will create <code>package.json</code> and <code>package.lock.json</code></p>
            </li>
            <li>
              <p>run <code>npm install markbind-cli@1.6.3 --save</code> to install markbind as a dependency (using v1.6.3 as an example)</p>
            </li>
            <li>
              <p>create/update <code>.gitignore</code> file in the root directory and add:</p>
              <pre><code class="hljs">node_modules
</code></pre>
            </li>
            <li>
              <p>update <code>ignore</code> in site.json to include</p>
              <pre><code class="hljs">node_modules/*
.gitignore
</code></pre>
            </li>
            <li>
              <p>Now, follow the <a href="#deploying-to-netlify">previous instructions for setting up Netlify</a> but with the following difference:<br> In step 5, <mark>Set the <code>Build Command</code> to <code>markbind build --baseUrl</code></mark></p>
            </li>
          </ol>
        </box>
      </div>
    </div>
  </div>
</div>
<div id="flex-div"></div>
<footer>
  <div class="text-center">
    <small>[Generated by <a href="https://markbind.github.io/markbind/">MarkBind 1.19.0</a> on Tue, 19 Feb 2019 07:44:01 GMT]</small></div>
</footer>
</div>
</body>
<script src="../markbind/js/vue.min.js"></script>
<script src="../markbind/js/vue-strap.min.js"></script>
<script src="../markbind/js/bootstrap-utility.min.js"></script>
<script src="../markbind/js/polyfill.min.js"></script>
<script src="../markbind/js/bootstrap-vue.min.js"></script>
<script>
    const baseUrl = ''
    const enableSearch = true
</script>
<script src="../markbind/js/setup.js"></script>
<script src="../markbind/layouts/default/scripts.js"></script>
</html>
